<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Strichliste â€’ The Tally Sheet Replacement for Your Organization</title>

    <link rel="icon" sizes="128x128" href="/img/common/logo-touch-icon.png">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/app.css" rel="stylesheet">
    
</head>
<body lang="en">
    <div class="header">
        <div class="container">
            <a class="logo pull-left" href="/">
                <img src="/img/strichliste-logo.png">
            </a>
        </div>
        <div class="container">
    <ul class="nav navbar-nav pull-right collapse navbar-collapse">
        
        
        <li class=""><a href="/">Home</a></li>
        
        <li class=""><a href="/about/">About</a></li>
        
        <li class=" active"><a href="/install/">Install</a></li>
        
        <li class=""><a href="https://demo.strichliste.org">Demo</a></li>
        
        <li class=""><a href="https://github.com/strichliste">Source</a></li>
        
        <li class=""><a href="/faq/">FAQ</a></li>
        
    </ul>
</div>

    </div>


<div class="container">
    <div class="row content margin-bottom-20">
        <h2>Install strichliste</h2>
        

<p>For strichliste to run, <strong>PHP 7.1 or higher is required</strong>. You should have a webserver running which supports <strong>mod_php</strong> or <strong>php-fpm</strong>.</p>

<h3 id="installing">Installing</h3>

<ol>
<li>Go to the Github project to download the <a href="https://github.com/strichliste/server/releases">latest release</a>. It comes already with a bundled front-end.</li>
<li>Extract the package content to your target directory (e.g. <code>tar xvfz strichliste.tar.gz -C /var/www/strichliste.yourdomain.tld</code>)</li>
<li>Move the database in <code>var/</code> from <code>app.db.example</code> to <code>app.db</code> if you want to use the default sqlite setup.</li>
</ol>

<p><strong>Attention:</strong> This is not recommended, because sqlite does not support some of the database transactional
    features which are needed to handle concurrent request.</p>

<p>Continue configuring your webserver.</p>

<h3 id="using-a-different-database-recommended">Using a different database (recommended)</h3>

<p>The <a href="https://www.doctrine-project.org/projects/doctrine-dbal/en/2.9/reference/platforms.html">ORM</a> used in
Strichliste supports multiple database backends such as:</p>

<ul>
<li>MySQL / MariaDB</li>
<li>Oracle</li>
<li>Microsoft SQL Server</li>
<li>PostgreSQL</li>
<li>SQLite</li>
</ul>

<p>If you want to use another database then sqlite, just adjust the <code>DATABASE_URL</code> variable in your <code>.env</code> file in your root
directory according to the <a href="https://www.doctrine-project.org/projects/doctrine-dbal/en/2.9/reference/configuration.html#connecting-using-a-url">Doctrine ORM</a>
recommendations.</p>

<p>For example, to configure <strong>mysql/mariadb</strong>:</p>

<pre><code>DATABASE_URL=&quot;mysql://strichliste:32YourPassWord42@localhost/strichliste&quot;
</code></pre>

<p>Create a database and a separate user:</p>

<pre><code class="language-sql">CREATE USER 'strichliste'@'localhost' IDENTIFIED BY '32YourPassWord42';
GRANT ALL PRIVILEGES ON strichliste.* TO 'strichliste'@'localhost';
FLUSH PRIVILEGES;
</code></pre>

<p>Afterwards just run the following commands to create the schema:</p>

<pre><code class="language-bash">php bin/console doctrine:schema:create
</code></pre>

<p>You&rsquo;re done! Strichliste now works with mysql instead of sqlite.</p>

<h3 id="configuring-nginx">Configuring NGINX</h3>

<p>Config examples for nginx can be found here:</p>

<ul>
<li><a href="https://github.com/strichliste/server/blob/master/examples/nginx_ssl.conf">https://github.com/strichliste/server/blob/master/examples/nginx_ssl.conf</a> (with SSL)</li>
<li><a href="https://github.com/strichliste/server/blob/master/examples/nginx.conf">https://github.com/strichliste/server/blob/master/examples/nginx.conf</a> (without SSL)</li>
</ul>

<h3 id="configuring-apache">Configuring Apache</h3>

<ul>
<li><a href="https://github.com/strichliste/server/blob/master/examples/apache.conf">https://github.com/strichliste/server/blob/master/examples/apache.conf</a> (without SSL)</li>
<li>TODO: SSL-Config</li>
</ul>

<h3 id="common-pitfalls">Common Pitfalls</h3>

<ul>
<li>Check your folder owner/group if you&rsquo;re using sqlite as your database! Otherwise strichliste can&rsquo;t write to it.</li>
</ul>

<h3 id="commands">Commands</h3>

<h4 id="import-strichliste-1-database">Import strichliste 1 database</h4>

<p>To import your old strichliste 1 database, copy the <code>database.sqlite</code>-file to the strichliste2 directory and run:</p>

<p><code>php bin/console app:import database.sqlite</code></p>

<p>After import the terminal outputs &ldquo;Import done!&rdquo;</p>

    </div>
</div>
</body>
</html> 

